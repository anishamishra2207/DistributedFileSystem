import os
import shutil

class FileManager:
    def __init__(self, root_directory):
        self.root_directory = root_directory
        # Create the root directory if it doesn't exist
        if not os.path.exists(self.root_directory):
            os.makedirs(self.root_directory)
    
    # --- Directory Management ---
    def create_directory(self, directory_name):
        dir_path = os.path.join(self.root_directory, directory_name)
        if not os.path.exists(dir_path):
            os.makedirs(dir_path)
            print(f"Directory '{directory_name}' created under '{self.root_directory}'.")
        else:
            print(f"Directory '{directory_name}' already exists.")

 def list_directories(self):
        # List only directories inside the root_directory
        dirs = [d for d in os.listdir(self.root_directory)
                if os.path.isdir(os.path.join(self.root_directory, d))]
        print(f"Directories in '{self.root_directory}': {dirs}")
        return dirs
    
    def delete_directory(self, directory_name):
        dir_path = os.path.join(self.root_directory, directory_name)
        if os.path.exists(dir_path) and os.path.isdir(dir_path):
            shutil.rmtree(dir_path)
            print(f"Directory '{directory_name}' deleted from '{self.root_directory}'.")
        else:
            print(f"Directory '{directory_name}' does not exist.")

# --- File Management ---
    def create_file(self, directory, filename, content=""):
        # If a directory is provided, use it; otherwise, use the root directory
        dir_path = os.path.join(self.root_directory, directory) if directory else self.root_directory
        if not os.path.exists(dir_path):
            os.makedirs(dir_path)
        filepath = os.path.join(dir_path, filename)
        with open(filepath, 'w') as f:
            f.write(content)
        print(f"File '{filename}' created in '{dir_path}'.")
